{{#unless hasInventory}}
  <div class="warning">
    <i class="fas fa-exclamation-triangle"></i>
    <span>{{localize 'CoC7.InventoryIsCurrentlyEmpty'}}</span>
  </div>
{{/unless}}
<ol>
  <li>
    {{#if showInventoryWeapons}}
      <div class="inventory-section">
        <ol class="item-list">
          <li class="flexrow inventory-header">
            <div class="item-name flexrow">
              <h2>{{localize 'CoC7.Weapons'}}</h2>
              {{#unless data.system.flags.locked}}
                <div style='flex:initial;'>
                  <div class="add-item button" title="{{localize 'CoC7.AddWeapon'}}" data-type="weapon">{{localize 'CoC7.AddWeapon'}}</div>
                </div>
              {{/unless}}
            </div>
          </li>
          {{#each itemsByType.weapon as |weapon id|}}
            <li class="weapon-row item weapon {{#unless weapon.skillSet}}error{{/unless}}" data-item-id="{{weapon._id}}" title="{{#unless weapon.skillSet}}{{localize 'CoC7.NoSkill'}}{{/unless}}">
              <div class="expand-arrow show-detail"></div>
              <div class="weapon-image" style="background-image: url('{{weapon.img}}')"></div>
              <div class="flexrow">
                <div class="weapon-name combat {{#if weapon.skillSet}}rollable{{else}}item-edit{{/if}}">{{weapon.name}}</div>
                {{#if weapon.system.properties.thrown}}
                  <a class="weapon-name combat alternativ-skill {{#if weapon.skillSet}}rollable{{else}}item-edit{{/if}}" title="Throw"><i class="game-icon game-icon-thrown-knife"></i></a>
                {{/if}}
              </div>
              <div class="weapon-range">
                {{#each weapon.system.range as |range key|}}
                  {{#if range.damage}}
                    <div class="weapon-damage" data-range="{{key}}">
                      <a class="roll" data-mode="roll" title="{{range.value}}" data-formula="{{range.damage}}">{{range.damage}}</a>
                    </div>
                  {{/if}}
                {{/each}}
              </div>
              <div class="weapon-control">
                {{#if weapon.system.properties.addb}}<span class="tag" title="Add DB">{{localize 'CoC7.WeaponAddb'}}</span>{{/if}}
                {{#if weapon.system.properties.ahdb}}<span class="tag" title="Add DB">{{localize 'CoC7.WeaponAhdb'}}</span>{{/if}}
              </div>
              <div class="item-controls">
                <a class="item-control item-edit" title="{{localize 'CoC7.EditWeapon'}}"><i class="fas fa-edit"></i></a>
                {{#unless ../data.system.flags.locked}}
                  <a class="item-control item-delete" title="{{localize 'CoC7.DeleteWeapon'}}"><i class="fas fa-trash"></i></a>
                {{/unless}}
              </div>
            </li>
          {{/each}}
        </ol>
      </div>
    {{/if}}
    {{#if showInventoryItems}}
      <div class="section">
        <ol>
          <li class="flexrow inventory-header">
            <div class="item-name flexrow">
              <h2>{{localize 'CoC7.Items'}}</h2>
              {{#unless data.system.flags.locked}}
                <div style='flex:initial;'>
                  <div class="add-item button" title="{{localize 'CoC7.AddItem'}}" data-type="item">{{localize 'CoC7.AddItem'}}</div>
                </div>
              {{/unless}}
            </div>
          </li>
          {{#each itemsByType.item as |item id|}}
            <li class="item flexrow" data-item-id="{{item._id}}">
              <div class="image" style="background-image: url({{item.img}})"></div>
              <h4 class="item-name show-detail">{{item.name}}</h4>
              <div class="item-controls">
                <a class="item-control item-trade" title="{{localize 'CoC7.TradeItem'}}"><i class="game-icon game-icon-trade"></i></a>
                <a class="item-control item-edit" title="{{localize 'CoC7.EditItem'}}"><i class="fas fa-edit"></i></a>
                <a class="item-control item-delete" title="{{localize 'CoC7.DeleteItem'}}"><i class="fas fa-trash"></i></a>
              </div>
            </li>
          {{/each}}
        </ol>
      </div>
    {{/if}}
    {{#if showInventoryBooks}}
      <div class="inventory-section">
        <ol class="item-list">
          <li class="flexrow inventory-header">
            <div class="item-name flexrow">
              <h2>{{localize 'CoC7.Books'}}</h2>
              {{#unless data.system.flags.locked}}
                <div style='flex:initial;'>
                  <div class="add-item button" title="{{localize 'CoC7.AddBook'}}" data-type="book">{{localize 'CoC7.AddBook'}}</div>
                </div>
              {{/unless}}
            </div>
          </li>
          {{#each itemsByType.book as |item id|}}
            <li class="item flexrow" data-item-id="{{item._id}}">
              <div class="image">
                <img alt="{{item.name}}" src="{{item.img}}" />
              </div>
              <h4 class="name show-detail">{{item.name}}</h4>
              <div class="controls">
                <a class="item-control item-trade" title="{{localize 'CoC7.TradeItem'}}"><i class="game-icon game-icon-trade"></i></a>
                <a class="item-control item-edit" title="{{localize 'CoC7.EditItem'}}"><i class="fas fa-edit"></i></a>
                <a class="item-control item-delete" title="{{localize 'CoC7.DeleteItem'}}"><i class="fas fa-trash"></i></a>
              </div>
            </li>
          {{/each}}
        </ol>
      </div>
    {{/if}}
    {{#if showInventorySpells}}
      <div class="inventory-section">
        <ol class="item-list">
          <li class="flexrow inventory-header">
            <div class="item-name flexrow">
              <h2>{{localize 'CoC7.Spells'}}</h2>
              {{#unless data.system.flags.locked}}
                <div style='flex:initial;'>
                  <div class="add-item button" title="{{localize 'CoC7.AddSpell'}}" data-type="spell">{{localize 'CoC7.AddSpell'}}</div>
                </div>
              {{/unless}}
            </div>
          </li>
          {{#each itemsByType.spell as |item id|}}
            <li class="item flexrow" data-item-id="{{item._id}}">
              <div class="item-image" style="background-image: url({{item.img}})"></div>
              <h4 class="item-name show-detail">{{item.name}}</h4>
              <div class="item-controls">
                <a class="item-control item-trade" title="{{localize 'CoC7.TradeItem'}}"><i class="game-icon game-icon-trade"></i></a>
                <a class="item-control item-edit" title="{{localize 'CoC7.EditItem'}}"><i class="fas fa-edit"></i></a>
                <a class="item-control item-delete" title="{{localize 'CoC7.DeleteItem'}}"><i class="fas fa-trash"></i></a>
              </div>
            </li>
          {{/each}}
        </ol>
      </div>
    {{/if}}
    {{#if showInventoryTalents}}
      <div class="inventory-section">
        <ol class="item-list">
          <li class="flexrow inventory-header">
            <div class="item-name flexrow">
              <h2>{{localize 'CoC7.PulpTalents'}}</h2>
            </div>
          </li>
          {{#each itemsByType.talent as |item id|}}
            <li class="item flexrow" data-item-id="{{item._id}}">
              <div class="item-image" style="background-image: url({{item.img}})"></div>
              <h4 class="item-name show-detail">{{item.name}}</h4>
              <div class="item-controls">
                <a class="item-control item-edit" title="{{localize 'CoC7.EditItem'}}"><i class="fas fa-edit"></i></a>
                <a class="item-control item-delete" title="{{localize 'CoC7.DeleteItem'}}"><i class="fas fa-trash"></i></a>
              </div>
            </li>
          {{/each}}
        </ol>
      </div>
    {{/if}}
    {{#if showInventoryWeapons}}
      <div class="inventory-section">
        <ol class="item-list">
          <li class="flexrow inventory-header">
            <div class="item-name flexrow">
              <h2>{{localize 'CoC7.Weapons'}}</h2>
              {{#unless data.system.flags.locked}}
                <div style='flex:initial;'>
                  <div class="add-item button" title="{{localize 'CoC7.AddWeapon'}}" data-type="weapon">{{localize 'CoC7.AddWeapon'}}</div>
                </div>
              {{/unless}}
            </div>
          </li>
          {{#each itemsByType.weapon as |item id|}}
            <li class="item flexrow" data-item-id="{{item._id}}">
              <div class="item-image" style="background-image: url({{item.img}})"></div>
              <h4 class="item-name show-detail">{{item.name}}</h4>
              <div class="item-controls">
                <a class="item-control item-trade" title="{{localize 'CoC7.TradeItem'}}"><i class="game-icon game-icon-trade"></i></a>
                <a class="item-control item-edit" title="{{localize 'CoC7.EditItem'}}"><i class="fas fa-edit"></i></a>
                <a class="item-control item-delete" title="{{localize 'CoC7.DeleteItem'}}"><i class="fas fa-trash"></i></a>
              </div>
            </li>
          {{/each}}
        </ol>
      </div>
    {{/if}}
    {{#if showInventoryStatuses}}
      <div class="inventory-section">
        <ol class="item-list">
          <li class="flexrow inventory-header">
            <div class="item-name flexrow">
              <h2>{{localize 'CoC7.Status'}}</h2>
            </div>
          </li>
          {{#each itemsByType.status as |item id|}}
            <li class="item flexrow" data-item-id="{{item._id}}">
              <div class="item-image" style="background-image: url({{item.img}})"></div>
              <h4 class="item-name show-detail">{{item.name}}</h4>
              <div class="item-controls">
                {{#if ../isKeeper}}
                  <a class="item-control item-edit" title="{{localize 'CoC7.EditItem'}}"><i class="fas fa-edit"></i></a>
                  <a class="item-control item-delete" title="{{localize 'CoC7.DeleteItem'}}"><i class="fas fa-trash"></i></a>
                {{/if}}
              </div>
            </li>
          {{/each}}
        </ol>
      </div>
    {{/if}}
  </li>
</ol>
